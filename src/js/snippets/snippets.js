// Snippets are below-the-fold stuff that can be loaded in after everything else.
// So it's not bundled.
//
// Also there's no need to syntax highlight at runtime as these rarely change.
// I have a build in d2-docs that produces the HTML in this format, and then just copy paste here.
const snippets = [
  {
    name: "Hello world",
    script: `hello -> world`,
    code: `<pre class="code-snippet-code"><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">hello </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">-&gt;</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">world</span></span><br></pre>`,
  },
  {
    name: "Labels",
    script: `x: I'm a Mac
y: And I'm a PC
x -> y: gazoontite`,
    code: `<pre class="code-snippet-code"><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">x</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">I</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">'</span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">m a Mac</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">y</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">And I</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">'</span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">m a PC</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">x </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">-&gt;</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">y</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">gazoontite</span></span><br></pre>`,
  },
  {
    name: "Declaring a shape",
    script: `imAShape
im_a_shape
im a shape
i'm a shape
a-shape`,
    code: `<pre class="code-snippet-code"><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">imAShape</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">im_a_shape</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">im a shape</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">i</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">'</span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">m a shape</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">a-shape</span></span><br></pre>`,
  },
  {
    name: "Customize shape type",
    script: `donut: { shape: circle }
database.shape: cylinder
you: {
  shape: person
}`,
    code: `<pre class="code-snippet-code"><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">donut</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">shape</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">circle</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">database</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">.</span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">shape</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">cylinder</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">you</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">shape</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">person</span></span><br><span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br></pre>`,
  },
  {
    name: "Connections",
    script: `dogs -> cats -> mice: chase
replica 1 <-> replica 2
a -> b: To err is human, to moo bovine {
  source-arrowhead: 1
  target-arrowhead: * {
    shape: diamond
  }
}`,
    code: `<pre class="code-snippet-code"><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">dogs </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">-&gt;</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">cats </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">-&gt;</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">mice</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">chase</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">replica 1</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">&lt;-&gt;</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">replica 2</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">a </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">-&gt;</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">b</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">To err is human, to moo bovine</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">source-arrowhead</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(11, 132, 132); background-color: rgb(248, 248, 251); font-style: normal;">1</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">target-arrowhead</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">*</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">    </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">shape</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">diamond</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br><span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br></pre>`,
  },
  {
    name: "Containers",
    script: `good chips: {
  doritos
  ruffles
}
bad chips.lays
bad chips.pringles

chocolate.chip.cookies`,
    code: `<pre class="code-snippet-code"><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">good chips</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">doritos</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">ruffles</span></span><br><span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">bad chips</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">.</span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">lays</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">bad chips</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">.</span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">pringles</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"></span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">chocolate</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">.</span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">chip</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">.</span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">cookies</span></span><br></pre>`,
  },
  {
    name: "Markdown text",
    script: `explanation: |md
  # I can do headers

  - lists
  - lists

  And other normal markdown stuff
|`,
    code: `<pre class="code-snippet-code"><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">explanation</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">|md</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">#</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> I can do headers</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"></span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  - lists</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  - lists</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"></span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  And other normal markdown stuff</span></span><br><span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">|</span></span><br></pre>`,
  },
  {
    name: "Latex",
    script: `plankton -> formula: will steal
formula: {
  equation: |latex
    \\lim_{h \\rightarrow 0 } \\frac{f(x+h)-f(x)}{h}
  |
}`,
    code: `<pre class="code-snippet-code"><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">plankton </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">-&gt;</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">formula</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">will steal</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">formula</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">equation</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">|latex</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">    \\\\lim_{h \\\\rightarrow 0 } \\\\frac{f(x+h)-f(x)}{h}</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">|</span></span><br><span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br></pre>`,
  },
  {
    name: "Code blocks",
    script: `explanation: |go
  awsSession := From(c.Request.Context())
  client := s3.New(awsSession)

  ctx, cancelFn := context.WithTimeout(c.Request.Context(), AWS_TIMEOUT)
  defer cancelFn()
|`,
    code: `<pre class="code-snippet-code"><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">explanation</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">|go</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  awsSession </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">:=</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> From</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">(</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">c</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">.</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">Request</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">.</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">Context</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">())</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  client </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">:=</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> s3</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">.</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">New</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">(</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">awsSession</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">)</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"></span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  ctx</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">,</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> cancelFn </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">:=</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> context</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">.</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">WithTimeout</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">(</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">c</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">.</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">Request</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">.</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">Context</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">(),</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> AWS_TIMEOUT</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">)</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">defer</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> cancelFn</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">()</span></span><br><span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">|</span></span><br></pre>`,
  },
  {
    name: "Icons and Images",
    script: `my network: {
  icon: https://icons.terrastruct.com/infra/019-network.svg
}
github: {
  shape: image
  icon: https://icons.terrastruct.com/dev/github.svg
}`,
    code: `<pre class="code-snippet-code"><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">my network</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">icon</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">https://icons.terrastruct.com/infra/019-network.svg</span></span><br><span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">github</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">shape</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">image</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">icon</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">https://icons.terrastruct.com/dev/github.svg</span></span><br><span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br></pre>`,
  },
  {
    name: "SQL Tables",
    script: `costumes: {
  shape: sql_table
  id: int {constraint: primary_key}
  silliness: int
  monster: int
  last_updated: timestamp
}

monsters: {
  shape: sql_table
  id: int {constraint: primary_key}
  movie: string
  weight: int
  last_updated: timestamp
}

costumes.monster -> monsters.id`,
    code: `<pre class="code-snippet-code"><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">costumes</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">shape</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">sql_table</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">id</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">int</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">constraint</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">primary_key</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">silliness</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">int</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">monster</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">int</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">last_updated</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">timestamp</span></span><br><span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"></span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">monsters</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">shape</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">sql_table</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">id</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">int</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">constraint</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">primary_key</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">movie</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">string</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">weight</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">int</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">last_updated</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">timestamp</span></span><br><span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"></span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">costumes</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">.</span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">monster </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">-&gt;</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">monsters</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">.</span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">id</span></span><br></pre>`,
  },
  {
    name: "Classes",
    script: `D2 Parser: {
  shape: class

  +reader: io.RuneReader
  # Default visibility is + so no need to specify.
  readerPos: d2ast.Position

  # Private field.
  -lookahead: "[]rune"

  # Escape the # to prevent being parsed as comment
  \#lookaheadPos: d2ast.Position
  # Or just wrap in quotes
  "#peekn(n int)": (s string, eof bool)

  +peek(): (r rune, eof bool)
  rewind()
  commit()
}`,
    code: `<pre class="code-snippet-code"><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">D2 Parser</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">shape</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">class</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"></span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">+reader</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">io.RuneReader</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(109, 114, 132); background-color: rgb(248, 248, 251); font-style: normal;"># Default visibility is + so no need to specify.</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">readerPos</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">d2ast.Position</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"></span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(109, 114, 132); background-color: rgb(248, 248, 251); font-style: normal;"># Private field.</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">-lookahead</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">"</span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">[]rune</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">"</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"></span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(109, 114, 132); background-color: rgb(248, 248, 251); font-style: normal;"># Escape the # to prevent being parsed as comment</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(5, 86, 37); background-color: rgb(248, 248, 251); font-style: normal;">\#</span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">lookaheadPos</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">d2ast.Position</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(109, 114, 132); background-color: rgb(248, 248, 251); font-style: normal;"># Or just wrap in quotes</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">"</span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">#peekn(n int)</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">":</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">(s string, eof bool)</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"></span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">+peek</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">():</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">(r rune, eof bool)</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">rewind</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">()</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">commit</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">()</span></span><br><span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br></pre>`,
  },
  {
    name: "Sequence Diagrams",
    script: `shape: sequence_diagram
alice -> bob: What does it mean\nto be well-adjusted?
bob -> alice: The ability to play bridge or\ngolf as if they were games.`,
    code: `<pre class="code-snippet-code"><span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">shape</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">sequence_diagram</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">alice </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">-&gt;</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">bob</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">What does it mean</span><span style="color: rgb(5, 86, 37); background-color: rgb(248, 248, 251); font-style: normal;">\\n</span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">to be well-adjusted?</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">bob </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">-&gt;</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">alice</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">The ability to play bridge or</span><span style="color: rgb(5, 86, 37); background-color: rgb(248, 248, 251); font-style: normal;">\\n</span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">golf as if they were games.</span></span><br></pre>`,
  },
  {
    name: "Styling",
    script: `x: {
  style: {
    stroke: "#53C0D8"
    stroke-width: 5
    shadow: true
  }
}

y: {
  style: {
    opacity: 0.6
    fill: red
    3d: true
    stroke: black
  }
}

x -> y: {
  style: {
    stroke: green
    opacity: 0.5
    stroke-width: 2
    stroke-dash: 5
  }
}`,
    code: `<pre class="code-snippet-code"><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">x</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">style</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">    </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">stroke</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">"</span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">#53C0D8</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">"</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">    </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">stroke-width</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(11, 132, 132); background-color: rgb(248, 248, 251); font-style: normal;">5</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">    </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">shadow</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(11, 132, 132); background-color: rgb(248, 248, 251); font-style: normal;">true</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br><span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"></span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">y</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">style</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">    </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">opacity</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(11, 132, 132); background-color: rgb(248, 248, 251); font-style: normal;">0.6</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">    </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">fill</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">red</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">    </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">3d</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(11, 132, 132); background-color: rgb(248, 248, 251); font-style: normal;">true</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">    </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">stroke</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">black</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br><span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"></span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">x </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">-&gt;</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">y</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">style</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">{</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">    </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">stroke</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">green</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">    </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">opacity</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(11, 132, 132); background-color: rgb(248, 248, 251); font-style: normal;">0.5</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">    </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">stroke-width</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(11, 132, 132); background-color: rgb(248, 248, 251); font-style: normal;">2</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">    </span><span style="color: rgb(217, 28, 154); background-color: rgb(248, 248, 251); font-style: normal;">stroke-dash</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(11, 132, 132); background-color: rgb(248, 248, 251); font-style: normal;">5</span></span><br><span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;">  </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br><span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">}</span></span><br></pre>`,
  },
  {
    name: "Layout direction",
    script: `direction: right
x -> y -> z: onwards!`,
    code: `<pre class="code-snippet-code"><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">direction</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">right</span></span><br><span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">x </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">-&gt;</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">y </span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">-&gt;</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(13, 50, 178); background-color: rgb(248, 248, 251); font-style: normal;">z</span><span style="color: rgb(141, 86, 230); background-color: rgb(248, 248, 251); font-style: normal;">:</span><span style="color: rgb(10, 15, 37); background-color: rgb(248, 248, 251); font-style: normal;"> </span><span style="color: rgb(0, 136, 71); background-color: rgb(248, 248, 251); font-style: normal;">onwards!</span></span><br></pre>`,
  },
];

function stitch() {
  let html = "";
  for (const snippet of snippets) {
    html += `<div class="code-snippet-card">
<div class="code-snippet-card-title">
  ${snippet.name}
</div>
<div class="code-snippet-card-content">
  <div class="code-snippet-card-clipboard-button">
    <div class="clipboard-tooltip">
      <span class="clipboard-tooltip-text">Copy to clipboard</span>
    </div>
    <img src="assets/icons/clipboard.svg" class="clipboard-icon"/>
    <div class="arrow"></div>
  </div>
  ${snippet.code}
  </div>
</div>`;
  }
  return html;
}

function init() {
  const stitched = stitch();
  document.getElementById("code-snippets-container").innerHTML = stitched;

  attachClipboardListener();

  // pure css masonry layouts don't exist, have to do bullshit like this
  arrangeSnippetCards();
  document.addEventListener("DOMContentLoaded", arrangeSnippetCards);
  addEventListener("resize", arrangeSnippetCards);
}

function arrangeSnippetCards() {
  let columnCounts;
  const windowWidth = document.body.clientWidth;
  if (windowWidth <= 768) {
    columnCounts = 1;
  } else if (windowWidth > 768 && windowWidth < 1280) {
    columnCounts = 3;
  } else {
    columnCounts = 4;
  }

  const codeSnippetsContainerEl = document.getElementById("code-snippets-container");
  const gapSize = 24;
  const cardPadding = 12;
  const cardBorder = 1;
  const gapTotalSize = gapSize * (columnCounts - 1);
  const cardWidth =
    Math.floor((codeSnippetsContainerEl.clientWidth - gapTotalSize) / columnCounts) -
    cardPadding * 2 -
    cardBorder * 2;

  const codeSnippetsCardEls = document.getElementsByClassName("code-snippet-card");
  for (const codeSnippetsCardEl of codeSnippetsCardEls) {
    codeSnippetsCardEl.style.width = `${cardWidth}px`;
  }
  codeSnippetsContainerEl.style.columnCount = columnCounts;
  codeSnippetsContainerEl.style.visibility = "visible";
}

async function copyCode(block) {
  const code = block.querySelector("pre").innerText;
  await navigator.clipboard.writeText(code);
}

function attachClipboardListener() {
  const codeSnippetsClipboardButtonEls = document.getElementsByClassName(
    "code-snippet-card-clipboard-button"
  );
  for (const clipboardButtonEl of codeSnippetsClipboardButtonEls) {
    clipboardButtonEl.addEventListener("click", () => {
      copyCode(clipboardButtonEl.parentElement);

      // show copied UI
      clipboardButtonEl.querySelector(".clipboard-icon").src =
        "assets/icons/checkcircle.svg";
      clipboardButtonEl.querySelector(".clipboard-tooltip-text").textContent = "Copied";

      // restore original UI
      setTimeout(() => {
        clipboardButtonEl.querySelector(".clipboard-icon").src =
          "assets/icons/clipboard.svg";
        clipboardButtonEl.querySelector(".clipboard-tooltip-text").textContent =
          "Copy to clipboard";
      }, 2000);
    });
  }
}

init();
